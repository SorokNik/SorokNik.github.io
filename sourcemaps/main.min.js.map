{"version":3,"sources":["01_main.js"],"names":["document","addEventListener","main","querySelector","slides","querySelectorAll","body","startHeader","startHeaderDescr","startHeaderLogo","startPic","startSlide","startSwirl","forEach","svgAnimation","setAttribute","assignMultipleEvents","element","events","callback","item","removeAnimation","min","current","max","arr","removeAttribute","hasNotSupported","cssDeskClass","cssTabLanClass","cssTabPorClass","cssMobClass","wrapper","removeExcessClass","val","classList","remove","contains","add","clientWidth","clientHeight","slide","i","length","selector","error","isSelectorSupported","window"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n    const main = document.querySelector('.main'),\n          slides = document.querySelectorAll('.slide'),\n          body = document.querySelector('body'),\n          startHeader = document.querySelector('.header-start-mob'),\n          startHeaderDescr = document.querySelector('.header__descr-start-mob'),\n          startHeaderLogo = document.querySelector('.header__logo-start-mob'),\n          startPic = document.querySelector('.slide-1-start-mob'),\n          startSlide = document.querySelector('.slide__pic-1-start-mob'),\n          startSwirl =  document.querySelector('.swirl-r-1-start-mob');\n\n//==========ОБЪЯВЛЕНИЕ ФУНКЦИЙ==========\n\nslides[0].querySelectorAll('animateTransform').forEach(svgAnimation => svgAnimation.setAttribute('values','0; 360'));\n\n//==========ПРОВЕРКА НА ТО, ПОДДЕРЖИВАЕТСЯ ЛИ КАКОЙ-ТО ФУНКЦИОНАЛ БРАУЗЕРОМ ИЛИ НЕТ==========\n\n    const isSelectorSupported = (selector) => {\n        try {\n          document.querySelector(selector)\n          return true\n        } catch (error) {\n          return false\n        }\n    };\n\n//==========ФУНКЦИЯ ДЛЯ ДОБАВЛЕНИЯ СЛУШАТЕЛЯ НЕСКОЛЬКИХ СОБЫТИЙ СРАЗУ==========\n\n    const assignMultipleEvents = (element, events, callback) => {\n        events.forEach(item => {\n            element.addEventListener(`${item}`, callback)\n        });\n    };\n    \n\n//==========ФУНКЦИЯ ДЛЯ УДАЛЕНИЯ АНИМАЦИИ С НЕАКТИВНЫХ БЛОКОВ==========    \n    const removeAnimation = (min, current, max, arr) => {\n\n        if(min<current){\n            arr[min].querySelectorAll('animateTransform').forEach(item => item.removeAttribute('values'));\n            min = min + 1;\n        }\n\n        if(max>current){\n            arr[max].querySelectorAll('animateTransform').forEach(item => item.removeAttribute('values'));\n            max = max - 1;\n        }\n\n        if(min === current && max === current){\n            return;\n        }\n\n        removeAnimation(min, current, max, arr)\n    }\n\n//==========ФУНКЦИЯ ДЛЯ РАБОТЫ ФУНКЦИОНАЛА ЛЕНДА, КОГДА :HAS НЕ РАБОТАЕТ==========     \n\n    const hasNotSupported = (min, current, max, cssDeskClass, cssTabLanClass, cssTabPorClass, cssMobClass, wrapper) => {\n\n        function removeExcessClass (val) {\n\n            wrapper.classList.remove(`${wrapper.classList.contains(`${cssDeskClass}${val}`) ? cssDeskClass :\n                                        wrapper.classList.contains(`${cssTabLanClass}${val}`) ? cssTabLanClass :\n                                        wrapper.classList.contains(`${cssTabPorClass}${val}`) ? cssTabPorClass :\n                                        wrapper.classList.contains(`${cssMobClass}${val}`) ? cssMobClass : true}${val}`);\n\n        }\n\n        if(min<current){\n\n            removeExcessClass(min);\n            removeExcessClass(min+1);\n\n            min = min + 1;\n        }\n        \n        if(max>current){\n\n            removeExcessClass(max);\n            removeExcessClass(max-1);\n\n            max = max - 1;\n        }\n        \n        if(min === current && max === current){\n\n            wrapper.classList.add(`${body.clientWidth>1199 ? cssDeskClass :\n                body.clientWidth>575 && body.clientWidth<=1199 && body.clientWidth/body.clientHeight > 1 ? cssTabLanClass :\n                body.clientWidth>575 && body.clientWidth<=1199 && body.clientWidth/body.clientHeight < 1 ? cssTabPorClass :\n                body.clientWidth<=575 && body.clientWidth/body.clientHeight < 1 ? cssMobClass : cssDeskClass}${current}`);\n\n            return;           \n        }\n\n\n        hasNotSupported(min, current, max, cssDeskClass, cssTabLanClass, cssTabPorClass, cssMobClass, wrapper);\n    }\n\n//==========ВЫЗОВ ФУНКЦИЙ==========\n    slides.forEach((slide, i) => {\n        assignMultipleEvents(slide, ['mouseover', 'click'], ()=>{\n            const svgAnimations = slide.querySelectorAll('animateTransform');\n\n            svgAnimations.forEach(svgAnimation => {\n                svgAnimation.setAttribute('values','0; 360');\n            })\n\n            if(body.clientWidth < 575) {\n                startHeader.classList.remove('header-start-mob');\n                startHeaderDescr.classList.remove('header__descr-start-mob');\n                startHeaderLogo.classList.remove('header__logo-start-mob');\n                startPic.classList.remove('slide-1-start-mob');\n                startSlide.classList.remove('slide__pic-1-start-mob');\n                startSwirl.classList.remove('swirl-r-1-start-mob');\n            }          \n            \n            removeAnimation(0, i, slides.length-1, slides);\n        })\n\n        slide.addEventListener('mouseout', () => {\n            slide.querySelectorAll('animateTransform').forEach(item => item.removeAttribute('values'));\n            slides[0].querySelectorAll('animateTransform').forEach(svgAnimation => svgAnimation.setAttribute('values','0; 360'));\n        });\n        \n        if(!isSelectorSupported(\":has(.main)\")){\n\n                assignMultipleEvents(slide, ['mouseover', 'click'], () => {               \n                    hasNotSupported(1, i+1, slides.length, 'has-not-supported__desk-', 'has-not-supported__tab-lan-', 'has-not-supported__tab-por-', 'has-not-supported__mob-', main);\n                });\n\n                assignMultipleEvents(window, ['resize', 'orientationchange'], () => {    \n                    \n                    if(body.clientWidth > 575) {\n                        startHeader.classList.add('header-start-mob');\n                        startHeaderDescr.classList.add('header__descr-start-mob');\n                        startHeaderLogo.classList.add('header__logo-start-mob');\n                        startPic.classList.add('slide-1-start-mob');\n                        startSlide.classList.add('slide__pic-1-start-mob');\n                        startSwirl.classList.add('swirl-r-1-start-mob');\n                    } \n\n                    hasNotSupported(1, 1, slides.length, 'has-not-supported__desk-', 'has-not-supported__tab-lan-', 'has-not-supported__tab-por-', 'has-not-supported__mob-', main);\n                });\n\n                slide.addEventListener('mouseout', () => {\n                    \n                    if(body.clientWidth < 575) {\n                        main.classList.remove(`has-not-supported__mob-${i+1}`)\n\n                        startHeader.classList.add('header-start-mob');\n                        startHeaderDescr.classList.add('header__descr-start-mob');\n                        startHeaderLogo.classList.add('header__logo-start-mob');\n                        startPic.classList.add('slide-1-start-mob');\n                        startSlide.classList.add('slide__pic-1-start-mob');\n                        startSwirl.classList.add('swirl-r-1-start-mob');\n                    }\n\n                    main.classList.remove(`has-not-supported__desk-${i+1}`)\n                });\n            \n        }\n\n    });\n\n});\n"]}